<div class="container-fluid bg-muted" style="padding-bottom: 2em;">
  <div class="row">
    <div class="col-sm-8 col-sm-offset-2 col-xs-offset-1">
      <h2>Edit Notification
           <div class="pull-right pointer"  ui-sref="^.list"><i class="glyphicon glyphicon-arrow-left"></i></div></h2>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-8 col-sm-offset-2">
      <div class="panel panel-default">
        <div class="panel-body">

          <form name="notificationFrm">
              <div class="form-group">
                <label for="name">Name</label>
                <input type="text" class="form-control" id="name" placeholder="Name" required="" ng-model="notification.name">
              </div>
              <div class="form-group">
                <label for="name">Message</label>
                <input type="text" class="form-control" id="message" placeholder="Message" required="" ng-model="notification.message">
              </div>
              <div class="form-group">
                <label for="check_threshold">Check Threshold</label>
                <input type="number" class="form-control" id="check_threshold" placeholder="Check Threshold" required="" ng-model="notification.check_threshold">
              </div>
              <div class="form-group">
                <label for="hold_off_time">Hold Off Time (minutes)</label>
                <input type="number" class="form-control" id="hold_off_time" placeholder="Hold Off Time" required="" ng-model="notification.hold_off_time">
              </div>
              <div class="form-group">
                <label for="name">Actions</label>
                <button class="btn btn-xs btn-primary pull-right" ng-click="add_action()"><i class="icon-circleadd"></i></button>
                <ul class="list-group">
                  <li class="list-group-item" ng-repeat="action in notification.actions" ng-click="edit_action(action)"><i class="{{action.icon}}"></i> {{action.name}} {{action.type}} {{action.action}}
                    <button class="btn btn-xs btn-danger pull-right" ng-click="remove_action(action)"><i class="icon-circledelete"></i></button></li>
                  <li class="list-group-item" ng-show="!notification.actions || notification.actions.length == 0">No actions added</li>
                </ul>
              </div>
              <div class="form-group">
                <label for="name">Triggers</label>
                <button class="btn btn-xs btn-primary pull-right" ng-click="add_trigger()"><i class="icon-circleadd"></i></button>
                <h4 ng-show="loading"><i class="icon-refresh spin"></i> Loading...</h4>
                <ul class="list-group" ng-hide="loading">
                  <li class="list-group-item" ng-show="!triggers || triggers.length == 0">No actions added</li>
                  <li class="list-group-item" ng-repeat="trigger in triggers | orderBy: 'name'">
                    {{trigger.name}}
                    <button class="btn btn-xs btn-danger pull-right" ng-click="remove_trigger(trigger)"><i class="icon-circledelete"></i></button>
                  </li>
                </ul>
              </div>

              <div class="form-group">
                <button type="submit" class="pull-right btn btn-sm btn-primary" ng-click="save()" ng-disabled="notificationFrm.$invalid || saving || deleting">
                <i class="icon-loadingalt spin" ng-show="saving"></i>
                <i class="icon-savetodrive" ng-hide="saving"></i> Save</button>
                <button type="submit" class="btn btn-sm btn-default" ng-click="delete()" ng-disabled="saving || deleting">
                  <i class="icon-loadingalt spin" ng-show="deleting"></i>
                  <i class="icon-circledelete" ng-hide="deleting"></i>
                  Remove</button>
              </div>

          </form>

        </div>
      </div>
    </div>
  </div>
</div>
